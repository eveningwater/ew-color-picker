!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ewColorPicker=t()}(this,(function(){"use strict";const e=Object.create(null),t=Object.prototype.toString;function o(e){const t={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"};if(/rgba?/.test(e)){let o=e.replace(/rgba?\(/,"").replace(/\)/,"").replace(/[\s+]/g,"").split(","),i="";return o.map((function(e,o){o<=2&&(i+=function(e){e=Math.min(Math.round(e),255);const o=Math.floor(e/16),i=e%16;return""+(t[o]||o)+(t[i]||i)}(e))})),"#"+i}}function i(e,t){let o,i,n,r=e.a,s=Math.round(e.h),a=Math.round(255*e.s/100),c=Math.round(255*e.b/100);if(0===a)o=i=n=c;else{let e=c,t=(255-a)*c/255,r=s%60*(e-t)/60;360===s?(o=e,i=n=0):s<60?(o=e,i=t+r,n=t):s<120?(o=e-r,i=e,n=t):s<180?(o=t,i=e,n=t+r):s<240?(o=t,i=e-r,n=e):s<300?(o=t+r,i=t,n=e):s<360?(o=e,i=t,n=e-r):o=i=n=0}return(t>=0||t<=1)&&(r=t),"rgba("+Math.round(o)+","+Math.round(i)+","+Math.round(n)+","+r+")"}function n(e){const t=e.slice(e.indexOf("(")+1,e.lastIndexOf(")")).split(",");let o,i,n,r=t.length<4?1:Number(t[3]),s=Number(t[0])/255,a=Number(t[1])/255,c=Number(t[2])/255,l=Math.min(s,a,c),h=n=Math.max(s,a,c),u=h-l;if(h===l)o=0;else{switch(h){case s:o=(a-c)/u+(a<c?6:0);break;case a:o=2+(c-s)/u;break;case c:o=4+(s-a)/u}o=Math.round(60*o)}return i=0===h?0:1-l/h,i=Math.round(100*i),n=Math.round(100*n),{h:o,s:i,b:n,a:r}}function r(e){const t=document.createElement("div");t.style.backgroundColor=e,document.body.appendChild(t);const o=window.getComputedStyle(t).backgroundColor;return document.body.removeChild(t),o.slice(0,2)+"ba"+o.slice(3,o.length-1)+", 1)"}function s(e){let t="";return/^rgb\(/.test(e)?t="^[rR][gG][Bb][(]([\\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\\s]*,){2}[\\s]*(2[0-4]\\d|25[0-5]|[01]?\\d\\d?)[\\s]*[)]{1}$":/^rgba\(/.test(e)?t="^[rR][gG][Bb][Aa][(]([\\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\\s]*,){3}[\\s]*(1|1.0|0|0.[0-9]{2})[\\s]*[)]{1}$":/^#/.test(e)?t="^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$":/^hsl\(/.test(e)?t="^[hH][Ss][Ll][(]([\\s]*(2[0-9][0-9]|360｜3[0-5][0-9]|[01]?[0-9][0-9]?)[\\s]*,)([\\s]*((100|[0-9][0-9]?)%|0)[\\s]*,)([\\s]*((100|[0-9][0-9]?)%|0)[\\s]*)[)]$":/^hsla\(/.test(e)&&(t="^[hH][Ss][Ll][Aa][(]([\\s]*(2[0-9][0-9]|360｜3[0-5][0-9]|[01]?[0-9][0-9]?)[\\s]*,)([\\s]*((100|[0-9][0-9]?)%|0)[\\s]*,){2}([\\s]*(1|1.0|0|0.[0-9])[\\s]*)[)]$"),!!e.match(new RegExp(t))}["Number","String","Function","Undefined","Boolean"].forEach(t=>e["is"+t]=e=>typeof e===t.toLowerCase()),e.addMethod=(e,t,o)=>(e.prototype[t]=o,e),["Object","Array","RegExp"].forEach(o=>e["isDeep"+o]=e=>t.call(e).slice(8,-1).toLowerCase()===o.toLowerCase()),e.isShallowObject=t=>"object"==typeof t&&!e.isNull(t),e.ewObjToArray=t=>e.isShallowObject(t)?Array.prototype.slice.call(t):t,e.isNull=e=>null===e,e.ewAssign=function(t,o){if(!e.isNull(t)){if(Object.assign)return Object.assign(t,o);{const e=Object(t);for(let t=1,o=arguments.length;t<o;t+=1){const o=arguments[t];if(o)for(let t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e}}},e.addClass=(e,t)=>e.classList.add(t),e.removeClass=(e,t)=>e.classList.remove(t),e.setCss=(e,t,o)=>e.style[t]=o,e.setSomeCss=(t,o=[])=>{o.length&&o.forEach(o=>e.setCss(t,o.prop,o.value))},e.isDom=t=>e.isShallowObject(HTMLElement)?t instanceof HTMLElement:t&&e.isShallowObject(t)&&1===t.nodeType&&e.isString(t.nodeName)||t instanceof HTMLCollection||t instanceof NodeList,e.ewError=e=>console.error("[ewColorPicker warn]\n"+new Error(e)),e.ewWarn=e=>console.warn("[ewColorPicker warn]\n"+e),e.deepCloneObjByJSON=e=>JSON.parse(JSON.stringify(e)),e.deepCloneObjByRecursion=function t(o){if(!e.isShallowObject(o))return;let i=e.isDeepArray(o)?[]:{};for(let n in o)i[n]=e.isShallowObject(o[n])?t(o[n]):o[n];return i},e.getCss=(e,t)=>window.getComputedStyle(e,null)[t],e.$=e=>document[e&&e.indexOf("#")>-1?"querySelector":"querySelectorAll"](e),e.on=(e,t,o,i=!1)=>{e&&t&&o&&e.addEventListener(t,o,i)},e.off=(e,t,o,i=!1)=>{e&&t&&o&&e.removeEventListener(t,o,i)},e.getRect=e=>e.getBoundingClientRect(),e.clickOutSide=(t,o,i)=>{const n=r=>{const s=e.getRect(t.querySelector(".ew-color-picker"));let a=null;o.hasBox&&(a=e.getRect(t.querySelector(".ew-color-picker-box")));const c=r.target;if(!c)return;const l=e.getRect(c);if(o.hasBox){if(l.x>=s.x&&l.y>=s.y&&l.width<=s.width)return;if(l.x>=a.x&&l.y>=a.y&&l.width<=a.width&&l.height<=a.height)return;i()}else{if(l.x>=s.x&&l.y>=s.y&&l.width<=s.width&&l.height<=s.height)return;i()}setTimeout(()=>{e.off(document,"mousedown",n)})};e.on(document,"mousedown",n)},e.eventType=navigator.userAgent.match(/(iPhone|iPod|Android|ios)/i)?["touchstart","touchmove","touchend"]:["mousedown","mousemove","mouseup"];const a={};function c(){this.timers=[],this.args=[],this.isTimerRun=!1}c.makeTimerManage=function(e){const t=e.TimerManage;t&&t.constructor===c||(e.TimerManage=new c)};function l(e){const t=e.TimerManage;t&&t.constructor===c&&t.next()}function h(t,o,i){let n="",r="";t.indexOf("slide")>-1?(n="height"+i+" ms",r="hidden",function(){const n=t.toLowerCase().indexOf("down")>-1;n&&e.setCss(o,"display","block");let r=o.offsetHeight,s=n?0:r,a=r/(i/10);n&&e.setCss(o,"height","0px");let c=setInterval(()=>{s=n?s+a:s-a,e.setCss(o,"height",s+"px"),(s>=r||s<=0)&&(clearInterval(c),e.setCss(o,"height",r+"px"),l(o)),!n&&s<=0&&e.setCss(o,"display","none")},10)}()):(n="opacity"+i+" ms",r="",function(){const n=t.toLowerCase().indexOf("in")>-1;let r=null,s=100/(i/10),a=n?0:100;e.setSomeCss(o,[{prop:"display",value:n?"none":"block"},{prop:"opacity",value:n?0:1}]);let c=function(){a=n?a+s:a-s,"none"===o.style.display&&n&&e.setCss(o,"display","block"),e.setCss(o,"opacity",(a/100).toFixed(2)),a>=100||a<=0?(r&&clearTimeout(r),l(o),a<=0&&e.setCss(o,"display","none"),e.setCss(o,"opacity",a>=100?1:0)):r=setTimeout(c,10)};c()}()),r&&e.setCss(o,"overflow",r),e.setCss(o,"transition",n)}[{method:"add",func:function(e,t){this.timers.push(e),this.args.push(t),this.timerRun()}},{method:"timerRun",func:function(){if(!this.isTimerRun){let e=this.timers.shift(),t=this.args.shift();e&&t&&(this.isTimerRun=!0,e(t[0],t[1]))}}},{method:"next",func:function(){this.isTimerRun=!1,this.timerRun()}}].forEach(t=>e.addMethod(c,t.method,t.func)),["slideUp","slideDown","fadeIn","fadeOut"].forEach(e=>{a[e]=function(t){c.makeTimerManage(t),t.TimerManage.add((function(t,o){return h(e,t,o)}),arguments)}});const u=["html","head","body","meta","title","link","style","script"],p={PICKER_OBJECT_CONFIG_ERROR:"you should pass a param which is el and el must be a string or a dom element!",PICKER_CONFIG_ERROR:"you should pass a param that it must be a string or a dom element!",DOM_OBJECT_ERROR:"can not find the element by el property,make sure to pass a correct value!",DOM_ERROR:"can not find the element,make sure to pass a correct param!",CONFIG_SIZE_ERROR:"the value must be a string which is one of the normal,medium,small,mini,or must be an object and need to contain width or height property!",DOM_NOT_ERROR:"Do not pass these elements: "+u.join(",")+" as a param,pass the correct element such as div!",PREDEFINE_COLOR_ERROR:"PredefineColor is a array that is need to contain color value!",CONSTRUCTOR_ERROR:"ewColorPicker is a constructor and should be called with the new keyword!",DEFAULT_COLOR_ERROR:'the "defaultColor" is not a invalid color,make sure to use the correct color!',UPDATE_PARAM_COLOR_ERROR:"the param is not a invalid color,make sure to use the correct color!",UPDATE_PARAM_COLOR_WARN:"the color picker is hided,make sure showing it and then updating the color!"},d=function(){},f={hue:!0,alpha:!1,size:"normal",predefineColor:[],disabled:!1,defaultColor:"",openPickerAni:"height",sure:d,clear:d,openPicker:d,isLog:!0,changeColor:d,hasBox:!0,isClickOutside:!0};function g(t){if(e.isUndefined(new.target))return e.ewError(p.CONSTRUCTOR_ERROR);const o={...f,boxSize:{b_width:null,b_height:null},pickerFlag:!1,colorValue:""};if(e.isString(t)||e.isDom(t))this.config=o,this.beforeInit(t,this.config,p.DOM_ERROR);else{if(!e.isDeepObject(t)||!e.isString(t.el)&&!e.isDom(t.el)){const o=e.isDeepObject(t)?p.PICKER_OBJECT_CONFIG_ERROR:p.PICKER_CONFIG_ERROR;return e.ewError(o)}this.config=e.ewAssign(o,t),this.beforeInit(t.el,this.config,p.DOM_OBJECT_ERROR)}}g.createColorPicker=function(e){return new g(e)},g.getDefaultConfig=function(){return f};function b(e,t,o){e.config.hasBox?(o(),t()):(t(),o())}function m(e,t){const i=o(e);t.pickerInput.value=t.config.alpha?r(i):i}function w(e,t,o){return o?e.querySelectorAll("."+t):e.querySelector("."+t)}function C(t){const o=e.deepCloneObjByRecursion(t);return o.s=o.b=100,o}function k(e,t){return a[e?"slideDown":"fadeIn"](t,200)}function v(e,t){return a[e?"slideUp":"fadeOut"](t,200)}function R(t){return e.isString(t.config.openPickerAni)&&t.config.openPickerAni.indexOf("height")>-1}function O(e){e.config.pickerFlag?k(R(e),e.picker):v(R(e),e.picker)}function x(e,t,o,i){i.config.defaultColor=i.config.colorValue=e,i.config.pickerFlag=t,i.render(o,i.config)}function y(t,o,i,n,r){e.setSomeCss(t.pickerCursor,[{prop:"left",value:o+"px"},{prop:"top",value:i+"px"}]);const s=parseInt(100*(o-4)/n),a=parseInt(100*(r-(i-4))/r);t.hsbColor.s=s>100?100:s<0?0:s,t.hsbColor.b=a>100?100:a<0?0:a,E(t)}function E(t,n){const r=i(t.hsbColor);t.pickerInput.value=n||t.config.alpha?r:o(r),e.isFunction(t.config.changeColor)&&t.config.changeColor(t.pickerInput.value)}function T(t){t.alphaBarBg&&e.setCss(t.alphaBarBg,"background","linear-gradient(to top,"+i(C(t.hsbColor),0)+" 0%,"+i(C(t.hsbColor))+" 100%)")}function _(t,n,r){t.pickerInput.value=t.config.alpha?i(t.hsbColor):o(i(t.hsbColor));let s=0,a=parseInt(t.hsbColor.s*n/100),c=parseInt(r-t.hsbColor.b*r/100);[{el:t.pickerCursor,prop:"left",value:a+4+"px"},{el:t.pickerCursor,prop:"top",value:c+4+"px"},{el:t.pickerPanel,prop:"background",value:o(i(C(t.hsbColor)))}].forEach(t=>e.setCss(t.el,t.prop,t.value)),t.config.hue&&(s=t.hueBar.offsetHeight||180,e.setCss(t.hueThumb,"top",parseInt(t.hsbColor.h*s/360)+"px")),t.config.alpha&&(s=t.alphaBar.offsetHeight||180,e.setCss(t.alphaBarThumb,"top",s-t.hsbColor.a*s+"px"))}function S(t,n){let r=P(t.hueBar,t.hueThumb,n);t.hsbColor.h=C(t.hsbColor).h=parseInt(360*r.barThumbY/r.barHeight),e.setCss(t.pickerPanel,"background",o(i(C(t.hsbColor)))),E(t),T(t)}function M(e,t){let o=P(e.alphaBar,e.alphaBarThumb,t);const i=(o.barHeight-o.barThumbY<=0?0:o.barHeight-o.barThumbY)/o.barHeight;e.hsbColor.a=i>=1?1:i.toFixed(2),E(e,!0)}function P(t,o,i){const n=t.offsetHeight,r=t.getBoundingClientRect(),s=Math.max(0,Math.min(i-r.y,n));return e.setCss(o,"top",s+"px"),{barHeight:n,barThumbY:s}}return[{name:"beforeInit",func:function(t,o,i){let n=e.isDom(t)?t:e.isString(t)?e.$(t):null;return n?(n=n.length?n[0]:n,n.tagName?void((t=>u.indexOf(t.tagName.toLowerCase())>-1&&(e.ewError(p.DOM_NOT_ERROR),!0))(n)||this.init(n,o)):e.ewError(i)):e.ewError(i)}},{name:"init",func:function(t,o){let i,n;if(o.isLog&&console.log("%c ew-color-picker@1.6.7%c 联系QQ：854806732 %c 联系微信：eveningwater %c github:https://github.com/eveningwater/ew-color-picker %c ","background:#0ca6dc ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#ff7878 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff","background:#ff7878 ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#ff7878 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff","background:transparent"),e.isString(o.size))switch(o.size){case"normal":i=n="40px";break;case"medium":i=n="36px";break;case"small":i=n="32px";break;case"mini":i=n="28px";break;default:i=n="40px"}else{if(!e.isDeepObject(o.size))return e.ewError(p.CONFIG_SIZE_ERROR);i=o.size.width&&e.isNumber(o.size.width)?parseInt(o.size.width)+"px":"40px",n=o.size.height&&e.isNumber(o.size.height)?parseInt(o.size.height)+"px":"40px"}o.boxSize.b_width=i,o.boxSize.b_height=n,this.render(t,o)}},{name:"render",func:function(t,o){let i="",n="",r="",a="",c="",l="",h="";const u=o.predefineColor;if(!e.isDeepArray(u))return e.ewError(p.PREDEFINE_COLOR_ERROR);u.length&&u.map(e=>{s(e)&&(i+=`<div class="ew-pre-define-color" style="background:${e};"></div>`)});const d=o.defaultColor?`<div class="ew-color-picker-arrow" style="width:${this.config.boxSize.b_width};height:${this.config.boxSize.b_height};">\n                <div class="ew-color-picker-arrow-left"></div>\n                <div class="ew-color-picker-arrow-right"></div>\n            </div>`:`<div class="ew-color-picker-no" style="width:${this.config.boxSize.b_width};height:${this.config.boxSize.b_height};line-height:${this.config.boxSize.b_height};">&times;</div>`;if(o.alpha&&(n='<div class="ew-alpha-slider-bar">\n                    <div class="ew-alpha-slider-wrapper"></div>\n                    <div class="ew-alpha-slider-bg"></div>\n                    <div class="ew-alpha-slider-thumb"></div>\n                </div>'),o.hue&&(r='<div class="ew-color-slider-bar"><div class="ew-color-slider-thumb"></div></div>'),i&&(a=`<div class="ew-pre-define-color-container">${i}</div>`),o.disabled&&(c="ew-color-picker-box-disabled"),o.defaultColor&&!s(o.defaultColor))return e.ewError(p.DEFAULT_COLOR_ERROR);o.colorValue=o.defaultColor,!o.disabled&&o.colorValue&&(l="background:"+o.colorValue);const f=`width:${o.boxSize.b_width};height:${o.boxSize.b_height};${l}`;o.hasBox&&(h=`<div class="ew-color-picker-box ${c}" tabIndex="0" style="${f}">${d}</div>`);const g=`\n                ${h}\n                <div class="ew-color-picker">\n                    <div class="ew-color-picker-content">\n                        <div class="ew-color-slider">${n}${r}</div>\n                        <div class="ew-color-panel" style="background:red;">\n                            <div class="ew-color-white-panel"></div>\n                            <div class="ew-color-black-panel"></div>\n                            <div class="ew-color-cursor"></div>\n                        </div>\n                    </div>\n                    <div class="ew-color-drop-container">\n                        <input type="text" class="ew-color-input">\n                        <div class="ew-color-drop-btn-group">\n                            <button class="ew-color-clear ew-color-drop-btn">清空</button>\n                            <button class="ew-color-sure ew-color-drop-btn">确定</button>\n                        </div>\n                    </div>\n                    ${a}\n                </div>`;t.innerHTML=g,this.startMain(t,o)}},{name:"startMain",func:function(t,a){let c=this;a.hasBox&&(this.box=w(t,"ew-color-picker-box")),this.rootElement=t,this.arrowRight=w(t,"ew-color-picker-arrow-right"),this.pickerPanel=w(t,"ew-color-panel"),this.pickerCursor=w(t,"ew-color-cursor"),this.pickerInput=w(t,"ew-color-input"),this.pickerClear=w(t,"ew-color-clear"),this.pickerSure=w(t,"ew-color-sure"),this.hueBar=w(t,"ew-color-slider-bar"),this.hueThumb=w(t,"ew-color-slider-thumb"),this.picker=w(t,"ew-color-picker"),this.slider=w(t,"ew-color-slider"),this.hsbColor=a.defaultColor?n(r(a.defaultColor)):{h:0,s:100,b:100,a:1};const l=this.panelWidth=parseInt(e.getCss(this.pickerPanel,"width")),h=this.panelHeight=parseInt(e.getCss(this.pickerPanel,"height"));this._isManualOpen=!1;let u=t,p=u.offsetTop,d=u.offsetLeft;for(;u.offsetParent;)p+=u.offsetParent.offsetTop,d+=u.offsetParent.offsetLeft,u=u.offsetParent;if(this.panelLeft=d,this.panelTop=p+t.offsetHeight,this.preDefineItem=w(t,"ew-pre-define-color",!0),this.preDefineItem.length){const t=e.ewObjToArray(this.preDefineItem);t.map(o=>{[{type:"click",handler:o=>{t.forEach(t=>e.removeClass(t,"ew-pre-define-color-active")),e.addClass(o.target,"ew-pre-define-color-active");const i=e.getCss(o.target,"background-color");c.hsbColor=n(i),_(c,l,h),T(c),E(c),m(i,c)}},{type:"blur",handler:t=>e.removeClass(t.target,"ew-pre-define-color-active")}].forEach(t=>e.on(o,t.type,t.handler))})}this.picker.style[R(c)?"display":"opacity"]=R(c)?"none":0;const f=a.alpha||a.hue?a.alpha&&a.hue?27:14:0,g=a.alpha||a.hue?a.alpha&&a.hue?320:300:280;this.slider.style.width=f+"px",this.picker.style.minWidth=g+"px",a.alpha&&(this.alphaBar=w(t,"ew-alpha-slider-bar"),this.alphaBarBg=w(t,"ew-alpha-slider-bg"),this.alphaBarThumb=w(t,"ew-alpha-slider-thumb"),T(this),this.bindEvent(this.alphaBarThumb,(e,t,o,i)=>M(e,i)),e.on(this.alphaBar,"click",e=>M(c,e.y))),e.on(this.pickerInput,"blur",e=>function(e,t){if(!s(t))return;const o=t.indexOf("#")>-1?n(function(e,t){let o=t||1,i=e.toLowerCase(),n=e.length,r=[];if(e&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(i)){if(4===n){let e="#";for(let t=1;t<n;t++){let o=i.slice(t,t+1);e+=o.concat(o)}i=e}for(let e=1,t=i.length;e<t;e+=2)r.push(parseInt("0X"+i.slice(e,e+2),16));return"rgba("+r.join(",")+","+o+")"}return i}(t)):n(t);e.hsbColor=o,_(e,e.panelWidth,e.panelHeight),E(e)}(c,e.target.value)),e.on(this.pickerClear,"click",()=>function(e,t){x("",!1,e,t),O(t),t.config.clear(t.config.defaultColor,t)}(t,c)),e.on(this.pickerSure,"click",()=>function(e,t){const n=t.config.alpha?i(t.hsbColor):o(i(t.hsbColor));x(n,!1,e,t),O(t),E(t),t.config.sure(n,t)}(t,c)),a.hasBox||(this.config.pickerFlag=!0,k(R(c),this.picker),_(this,this.panelWidth,this.panelHeight)),a.isClickOutside&&function(t,o){e.clickOutSide(t,o,()=>{o.pickerFlag&&(o.pickerFlag=!1,v(R({config:o}),t.querySelector(".ew-color-picker")))})}(t,a),!a.disabled&&a.hasBox&&e.on(this.box,"click",()=>function(t,o){o.config.pickerFlag=!o.config.pickerFlag,x(o.config.defaultColor,o.config.pickerFlag,t,o),_(o,o.panelWidth,o.panelHeight),O(o),e.isFunction(o.config.openPicker)&&o.config.openPicker(t,o)}(t,c)),e.on(this.pickerPanel,"click",e=>function(e,t){if(t.target!==e.pickerCursor){const o=t.layerX,i=t.layerY,n=e.pickerPanel.offsetWidth,r=e.pickerPanel.offsetHeight;y(e,(o>=n-1?n:o<=0?0:o)+4,(i>=r-2?r:i<=0?0:i)+4,n,r)}}(c,e)),this.bindEvent(this.pickerCursor,(e,t,o,i)=>{y(e,Math.max(0,Math.min(o-e.panelLeft,l))+4,Math.max(0,Math.min(i-e.panelTop,h))+4,l,h)}),a.hue&&(e.on(this.hueBar,"click",e=>S(c,e.y)),this.bindEvent(this.hueThumb,(e,t,o,i)=>S(e,i)))}},{name:"bindEvent",func:function(t,o,i){const n=this;e.on(t,e.eventType[0],()=>{const r=r=>{var s;r.preventDefault(),s=r,n.moveX=e.eventType[0].indexOf("touch")>-1?s.changedTouches[0].clientX:s.clientX,n.moveY=e.eventType[0].indexOf("touch")>-1?s.changedTouches[0].clientY:s.clientY,i?o(n,n.moveX,n.moveY):o(n,t,n.moveX,n.moveY)},s=()=>{e.off(document,e.eventType[1],r),e.off(document,e.eventType[2],s)};e.on(document,e.eventType[1],r),e.on(document,e.eventType[2],s)})}},{name:"updateColor",func:function(t){if(!s(t))return e.ewError(p.UPDATE_PARAM_COLOR_ERROR);this.config.pickerFlag||e.ewWarn(p.UPDATE_PARAM_COLOR_WARN);let o=r(t);this.hsbColor=n(o),_(this,this.panelWidth,this.panelHeight),m(o,this)}},{name:"openPicker",func:function(e){if(e&&(this.config.openPickerAni=e),!this.config.pickerFlag){this.config.pickerFlag=!0;b(this,()=>k(R(this),this.picker),()=>x(this.config.defaultColor,this.config.pickerFlag,this.rootElement,this)),_(this,this.panelWidth,this.panelHeight)}}},{name:"closePicker",func:function(e){if(e&&(this.config.openPickerAni=e),this.config.pickerFlag){this.config.pickerFlag=!1,b(this,()=>v(R(this),this.picker),()=>x(this.config.defaultColor,this.config.pickerFlag,this.rootElement,this))}}}].forEach(t=>e.addMethod(g,t.name,t.func)),g}));
