!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e=e||self)["ew-color-picker"]=r()}(this,(function(){"use strict";function e(e){return"number"==typeof e}function r(e){return"string"==typeof e}function n(e){return null!==e&&"object"==typeof e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){if(n(e))return Array.prototype.slice.call(e)}function a(e){return n(HTMLElement)?e instanceof HTMLElement:e&&n(e)&&1===e.nodeType&&r(e.nodeName)||e instanceof HTMLCollection||e instanceof NodeList}function c(e){return console.error("[ewColorPicker warn]\n"+new Error(e))}const s=function e(r){if(!n(r))return;let t=o(r)?[]:{};for(var i in r)t[i]=n(r[i])?e(r[i]):r[i];return t};function l(e,r){var n=e.currentStyle?function(r){var t=e.currentStyle[r];if(t.indexOf("height")>-1&&t.search(/px/i)>-1){var o=e.getBoundingClientRect;return o.bottom-o.top-parseInt(n("padding-bottom"))-parseInt(n("padding-top"))+"px"}}:function(r){return window.getComputedStyle(e,null)[r]};return n(r)}function p(e){var r,n=e.slice(0,1),t=e.slice(1);return/^[#\.]/.test(n)?"#"===n?r=document.getElementById(t):"."===n&&(r=document.getElementsByClassName(t)):r=document.getElementsByTagName(e),r}var d=navigator.userAgent.match(/(iPhone|iPod|Android|ios)/i)?["touchstart","touchmove","touchend"]:["mousedown","mousemove","mouseup"];function h(e,r){return e.classList.remove(r)}function u(e){var r={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"};if(/rgba?/.test(e)){var n=e.replace(/rgba?\(/,"").replace(/\)/,"").replace(/[\s+]/g,"").split(","),t="";n[3];return n.map((function(e,n){n<=2&&(t+=function(e){e=Math.min(Math.round(e),255);var n=Math.floor(e/16),t=e%16;return""+(r[n]||n)+(r[t]||t)}(e))})),"#"+t}}function f(e,r){var n,t,o,i=e.a,a=Math.round(e.h),c=Math.round(255*e.s/100),s=Math.round(255*e.b/100);if(0===c)n=t=o=s;else{var l=(255-c)*s/255,p=a%60*(s-l)/60;360===a?(n=s,t=o=0):a<60?(n=s,t=l+p,o=l):a<120?(n=s-p,t=s,o=l):a<180?(n=l,t=s,o=l+p):a<240?(n=l,t=s-p,o=s):a<300?(n=l+p,t=l,o=s):a<360?(n=s,t=l,o=s-p):n=t=o=0}return(r>=0||r<=1)&&(i=r),"rgba("+Math.round(n)+","+Math.round(t)+","+Math.round(o)+","+i+")"}function g(e){const r=e.slice(e.indexOf("(")+1,e.lastIndexOf(")")).split(",");let n,t,o,i=r.length<4?1:Number(r[3]),a=Number(r[0])/255,c=Number(r[1])/255,s=Number(r[2])/255,l=Math.min(a,c,s),p=o=Math.max(a,c,s),d=p-l;if(p===l)n=0;else{switch(p){case a:n=(c-s)/d+(c<s?6:0);break;case c:n=2+(s-a)/d;break;case s:n=4+(a-c)/d}n=Math.round(60*n)}return t=0===p?0:1-l/p,t=Math.round(100*t),o=Math.round(100*o),{h:n,s:t,b:o,a:i}}function b(e){var r=document.createElement("div");r.style.backgroundColor=e,document.body.appendChild(r);var n=window.getComputedStyle(r).backgroundColor;return document.body.removeChild(r),n}const m=function(){var e={};function r(){this.timers=[],this.args=[],this.isTimerRun=!1}function n(e,n){if(e.offsetHeight>0){var t=e.offsetHeight,o=t,i=t/(n/10);e.style.transition="height "+n+" ms",e.style.overflow="hidden";var a=setInterval((function(){o-=i,e.style.height=o+"px",o<=0&&(clearInterval(a),e.style.display="none",e.style.height=t+"px",e.TimerManage&&e.TimerManage.constructor===r&&e.TimerManage.next())}),10)}else e.TimerManage&&e.TimerManage.constructor===r&&e.TimerManage.next()}function t(e,n){if(e.offsetHeight<=0){e.style.display="block",e.style.transition="height"+n+" ms",e.style.overflow="hidden";var t=e.offsetHeight,o=0;e.style.height="0px";var i=t/(n/10),a=setInterval((function(){o+=i,e.style.height=o+"px",o>=t&&(clearInterval(a),e.style.height=t+"px",e.TimerManage&&e.TimerManage.constructor===r&&e.TimerManage.next())}),10)}else e.TimerManage&&e.TimerManage.constructor===r&&e.TimerManage.next()}function o(e,n){if(e.style.transition="opacity"+n+" ms",!Number(l(e,"opacity"))||!parseInt(l(e,"opacity"))<=0){e.style.display="none",e.style.opacity=0;let t=0,o=100/(n/10),i=null,a=function(){t+=o,"none"===e.style.display&&(e.style.display="block"),e.style.opacity=(t/100).toFixed(2),t>=100?(i&&clearTimeout(i),e.style.opacity=1,e.TimerManage&&e.TimerManage.constructor===r&&e.TimerManage.next()):i=setTimeout(a,10)};a()}else e.TimerManage&&e.TimerManage.constructor===r&&e.TimerManage.next()}function i(e,n){if(e.style.transition="opacity"+n+" ms",parseInt(l(e,"opacity"))>=1){let t=100;e.style.opacity=1,e.style.display="block";let o=100/(n/10),i=null,a=function(){t-=o,e.style.opacity=(t/100).toFixed(2),t<=0?(i&&clearTimeout(i),e.style.opacity=0,e.style.display="none",e.TimerManage&&e.TimerManage.constructor===r&&e.TimerManage.next()):i=setTimeout(a,10)};a()}else e.TimerManage&&e.TimerManage.constructor===r&&e.TimerManage.next()}return r.makeTimerManage=function(e){e.TimerManage&&e.TimerManage.constructor===r||(e.TimerManage=new r)},r.prototype.add=function(e,r){this.timers.push(e),this.args.push(r),this.timerRun()},r.prototype.timerRun=function(){if(!this.isTimerRun){var e=this.timers.shift(),r=this.args.shift();e&&r&&(this.isTimerRun=!0,e(r[0],r[1]))}},r.prototype.next=function(){this.isTimerRun=!1,this.timerRun()},e.slideUp=function(e){return r.makeTimerManage(e),e.TimerManage.add(n,arguments),this},e.slideDown=function(e){return r.makeTimerManage(e),e.TimerManage.add(t,arguments),this},e.fadeIn=function(e){return r.makeTimerManage(e),e.TimerManage.add(o,arguments),this},e.fadeOut=function(e){return r.makeTimerManage(e),e.TimerManage.add(i,arguments),this},e}();!function(e,r){void 0===r&&(r={});var n=r.insertAt;if(e&&"undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}('.ew-color-picker {\r\n    min-width: 320px;\r\n    position: absolute;\r\n    box-sizing: content-box;\r\n    border: 1px solid #ebeeff;\r\n    box-shadow: 0 4px 15px rgba(0, 0, 0, .2);\r\n    border-radius: 5px;\r\n    z-index: 10;\r\n    padding: 7px;\r\n    background-color: #ffffff;\r\n    display: none;\r\n    text-align: left;\r\n}\r\n\r\n.ew-color-picker .ew-color-picker-content:after {\r\n    content: "";\r\n    display: table;\r\n    clear: both;\r\n}\r\n\r\n.ew-color-picker-content {\r\n    margin-bottom: 6px;\r\n}\r\n\r\n.ew-color-panel {\r\n    position: relative;\r\n    width: 280px;\r\n    height: 180px;\r\n    cursor: pointer;\r\n}\r\n\r\n.ew-color-white-panel,\r\n.ew-color-black-panel {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n}\r\n\r\n.ew-color-white-panel {\r\n    background: linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0));\r\n}\r\n\r\n.ew-color-black-panel {\r\n    background: linear-gradient(0deg, #000, transparent);\r\n}\r\n\r\n.ew-color-slider {\r\n    width: 27px;\r\n    height: 180px;\r\n    position: relative;\r\n    float: right;\r\n    box-sizing: border-box;\r\n}\r\n.ew-color-slider-bar {\r\n    background: linear-gradient(180deg, #f00 0, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00);\r\n    margin-left: 3px;\r\n}\r\n.ew-alpha-slider-bar,.ew-color-slider-bar{\r\n    width: 12px;\r\n    height: 100%;\r\n    position: relative;\r\n    float: left;\r\n    cursor: pointer;\r\n}\r\n.ew-alpha-slider-wrapper{\r\n    background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==");\r\n}\r\n.ew-alpha-slider-bg,.ew-alpha-slider-wrapper{\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n}\r\n.ew-color-slider-thumb,.ew-alpha-slider-thumb {\r\n    position: absolute;\r\n    cursor: pointer;\r\n    box-sizing: border-box;\r\n    left: 0;\r\n    top: 0;\r\n    width: 12px;\r\n    height: 4px;\r\n    border-radius: 1px;\r\n    background: #fff;\r\n    border: 1px solid #f0f0f0;\r\n    box-shadow: 0 0 2px rgba(0, 0, 0, .6);\r\n}\r\n\r\n.ew-color-cursor{\r\n    position: absolute;\r\n    left: 100%;\r\n    top: 0%;\r\n    cursor: default;\r\n    width: 4px;\r\n    height: 4px;\r\n    transform: translate(-2px, -2px);\r\n    border-radius: 50%;\r\n    box-shadow: 0 0 0 3px #fff,\r\n        inset 0 0 2px 2px rgba(0, 0, 0, .4),\r\n        0 0 2px 3px rgba(0, 0, 0, .5);\r\n    transform: translate(-6px,-6px)\r\n}\r\n\r\n.ew-color-drop-container {\r\n    margin-top: 6px;\r\n    position: relative;\r\n}\r\n\r\n.ew-color-input {\r\n    width: 160px;\r\n    height: 28px;\r\n    line-height: 28px;\r\n    border: 1px solid #dcdfe6;\r\n    background-color: #ffffff;\r\n    display: inline-block;\r\n    box-sizing: border-box;\r\n    padding: 0 5px;\r\n    transition: border-color .2s cubic-bezier(0.175, 0.885, 0.32, 1.275);\r\n    border-radius: 5px;\r\n    outline: none;\r\n}\r\n\r\n.ew-color-input:focus {\r\n    border-color: #239fe6;\r\n}\r\n\r\n.ew-color-drop-btn {\r\n    display: inline-block;\r\n    padding: 5px 15px;\r\n    font-size: 12px;\r\n    border-radius: 3px;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    transition: .1s;\r\n    font-weight: 500;\r\n    outline: none;\r\n    box-sizing: border-box;\r\n    margin: 0;\r\n    white-space: nowrap;\r\n    color: #606266;\r\n    border: 1px solid #dcdfe6;\r\n}\r\n\r\n.ew-color-drop-btn-group {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 1px;\r\n}\r\n\r\n.ew-color-clear {\r\n    color: #4096ef;\r\n    border-color: transparent;\r\n    background-color: transparent;\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n}\r\n\r\n.ew-color-clear:hover,\r\n.ew-color-clear:active {\r\n    color: #66b1ff;\r\n}\r\n\r\n.ew-color-sure {\r\n    background-color: #ffffff;\r\n    margin-left: 10px;\r\n}\r\n\r\n.ew-color-sure:hover,\r\n.ew-color-sure:active {\r\n    border-color: #4096ef;\r\n    color: #4096ef;\r\n}\r\n.ew-pre-define-color-container{\r\n    width: 280px;\r\n    font-size: 12px;\r\n    margin-top: 8px;\r\n}\r\n.ew-pre-define-color-container:after{\r\n    content: "";\r\n    visibility: hidden;\r\n    clear: both;\r\n    display: block;\r\n    height: 0;\r\n}\r\n.ew-pre-define-color{\r\n    float: left;\r\n    margin: 0 0 8px 8px;\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    outline: none;\r\n    border: 1px solid #9b979b;\r\n}\r\n.ew-pre-define-color:nth-child(10n+1){\r\n    margin-left: 0;\r\n}\r\n.ew-pre-define-color:hover,\r\n.ew-pre-define-color:active{\r\n    opacity: .8;\r\n}\r\n.ew-pre-define-color-active{\r\n    box-shadow: 0 0 3px 2px #409eff;\r\n}\r\n.ew-color-picker-box{\r\n    border: 1px solid #dcdee2;\r\n    color: #535353;\r\n    outline: none;\r\n    display: inline-block;\r\n    background-color: #ffffff;\r\n    position: relative;\r\n    border-radius: 4px;\r\n    padding: 4px 7px;\r\n    line-height: 1.5;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    transition: border-color  .2s cubic-bezier(0.175, 0.885, 0.32, 1.275);\r\n}\r\n.ew-color-picker-box-disabled{\r\n    background-color: #ebe7e7;\r\n    cursor: not-allowed;\r\n}\r\n.ew-color-picker-arrow,.ew-color-picker-no{\r\n    width: 20px;\r\n    height: 20px;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    z-index: 3;\r\n}\r\n.ew-color-picker-no{\r\n    width: 40px;\r\n    height: 40px;\r\n    font-size: 20px;\r\n    text-align: center;\r\n    line-height: 40px;\r\n    color: #5e535f;\r\n    border: 1px solid #e2dfe2;\r\n    border-radius: 2px;\r\n}\r\n.ew-color-picker-arrow {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n.ew-color-picker-arrow-left,.ew-color-picker-arrow-right{\r\n    width: 12px;\r\n    height: 1px;\r\n    background-color: #fff;\r\n    display: inline-block;\r\n    position: relative;\r\n}\r\n.ew-color-picker-arrow-left{\r\n    transform:rotate(45deg);\r\n}\r\n.ew-color-picker-arrow-right {\r\n    transform: rotate(-45deg);\r\n    right: 3px;\r\n}');const w="you should pass a param which is el and el must be a string or a dom element!",x="you should pass a param that it must be a string or a dom element!",v="can not find the element by el property,make sure to pass a correct value!",k="can not find the element,make sure to pass a correct param!",y="the value must be a string which is one of the normal,medium,small,mini,or must be an object and need to contain width or height property!";function T(e,r,n){return n?e.querySelectorAll?e.querySelectorAll("."+r):e.getElementsByClassName(r):e.querySelector?e.querySelector("."+r):e.getElementsByClassName(r)[0]}function M(e,r,n){e.style[r]=n}function C(e){const n=r(e.config.openPickerAni)&&e.config.openPickerAni.indexOf("height")>-1;return e.pickerFlag?n?m.slideDown(e.picker,400):m.fadeIn(e.picker,400):n?m.slideUp(e.picker,400):m.fadeOut(e.picker,400)}function I(e,r,n,t,o){M(e.pickerCursor,"left",r+"px"),M(e.pickerCursor,"top",n+"px");const i=parseInt(100*r/t),a=parseInt(100*(o-n)/o);e.hsba.s=i>100?100:i<0?0:i,e.hsba.b=a>100?100:a<0?0:a,A(e)}function A(e,r){M(e.box,"background",f(e.hsba)),M(e.arrowRight,"border-top-color",f(e.hsba)),r||e.config.alpha?e.pickerInput.value=f(e.hsba):e.pickerInput.value=u(f(e.hsba))}function E(e){const r=s(e.hsba);r.s=r.b=100,e.alphaBarBg&&M(e.alphaBarBg,"background","linear-gradient(to top,"+f(r,0)+" 0%,"+f(r)+" 100%)")}function B(e,r,n){e.pickerInput.value=e.config.alpha?f(e.hsba):u(f(e.hsba)),e.box&&(e.box.style.background=e.pickerInput.value);const t=e.hueBar.offsetHeight||180;let o=parseInt(e.hsba.s*r/100),i=parseInt(n-e.hsba.b*n/100),a=parseInt(e.hsba.h*t/360);M(e.pickerCursor,"left",o+4+"px"),M(e.pickerCursor,"top",i+4+"px"),M(e.hueThumb,"top",a+"px");const c=s(e.hsba);if(c.s=c.b=100,M(e.pickerPanel,"background",u(f(c))),e.config.alpha){const r=t-e.hsba.a*t;M(e.alphaBarThumb,"top",r+"px")}}function L(e,r){const n=e.hueBar.offsetHeight,t=e.hueBar.getBoundingClientRect();let o=Math.max(0,Math.min(r-t.y,n));M(e.hueThumb,"top",o+"px");let i=s(e.hsba);i.s=i.b=100,e.hsba.h=i.h=parseInt(360*o/n),M(e.pickerPanel,"background",u(f(i))),A(e),E(e)}function P(e,r){const n=e.hueBar.offsetHeight,t=e.hueBar.getBoundingClientRect();let o=Math.max(0,Math.min(r-t.y,n));M(e.alphaBarThumb,"top",o+"px");const i=(n-o<=0?0:n-o)/n;e.hsba.a=i>=1?1:i.toFixed(2),A(e,!0)}function z(e){this.pickerFlag=!1;const n={alpha:!1,size:"normal",predefineColor:[],disabled:!1,defaultColor:"",openPickerAni:"height",sure:function(){},clear:function(){},openPicker:function(){},isLog:!0};if(r(e)||a(e))this.config=n,this.beforeInit(e,this.config,k);else{if(!t(e)||!r(e.el)&&!a(e.el)){return c(t(e)?w:x)}this.config=function(e,r){if(null!==e){if(Object.assign)return Object.assign(e,r);for(var n=Object(e),t=1;t<arguments.length;t++){var o=arguments[t];if(o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n}}(n,e),this.beforeInit(e.el,this.config,v)}return this}return z.prototype.beforeInit=function(e,r,n){if(r.isLog&&console.log("%c ew-color-picker@1.4.0 %c 联系QQ：854806732 %c 联系微信：eveningwater %c github:https://github.com/eveningwater/ew-color-picker %c ","background:#0ca6dc ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#ff7878 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff","background:#ff7878 ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff","background:#ff7878 ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff","background:transparent"),a(e))this.init(e,r);else{if(!i(p(e)).length)return c(n);i(p(e)).forEach(e=>this.init(e,r))}},z.prototype.init=function(e,r){this.render(e,r)},z.prototype.render=function(n,i){let a,s,l="";if(r(i.size))switch(i.size){case"normal":a=s="40px";break;case"medium":a=s="36px";break;case"small":a=s="32px";break;case"mini":a=s="28px";break;default:a=s="40px"}else{if(!t(i.size))return c(y);a=i.size.width&&e(i.size.width)?parseInt(i.size.width)+"px":"40px",s=i.size.height&&e(i.size.height)?parseInt(i.size.height)+"px":"40px"}o(i.predefineColor)&&i.predefineColor.length&&i.predefineColor.map(e=>{l+=`<div class="ew-pre-define-color" style="background:${e};" tabIndex=0></div>`});const p=i.defaultColor?`<div class="ew-color-picker-arrow" style="width:${a};height:${s};">\n        <div class="ew-color-picker-arrow-left"></div>\n        <div class="ew-color-picker-arrow-right"></div>\n    </div>`:`<div class="ew-color-picker-no" style="width:${a};height:${s};line-height:${s};">&times;</div>`,d=i.alpha?'<div class="ew-alpha-slider-bar">\n    <div class="ew-alpha-slider-wrapper"></div>\n    <div class="ew-alpha-slider-bg"></div>\n    <div class="ew-alpha-slider-thumb"></div>\n    </div>':"",h=l?`<div class="ew-pre-define-color-container">${l}</div>`:"";let u=`\n        <div class="ew-color-picker-box ${i.disabled?"ew-color-picker-box-disabled":""}" tabindex="0" style="${`width:${a};height:${s};${i.defaultColor?"background:"+i.defaultColor:""}`}">${p}</div>\n        <div class="ew-color-picker">\n            <div class="ew-color-picker-content">\n                <div class="ew-color-slider">${d}<div class="ew-color-slider-bar"><div class="ew-color-slider-thumb"></div></div></div>\n                <div class="ew-color-panel" style="background:red;">\n                    <div class="ew-color-white-panel"></div>\n                    <div class="ew-color-black-panel"></div>\n                    <div class="ew-color-cursor"></div>\n                </div>\n            </div>\n            <div class="ew-color-drop-container">\n                <input type="text" class="ew-color-input">\n                <div class="ew-color-drop-btn-group">\n                    <button class="ew-color-clear ew-color-drop-btn">清空</button>\n                    <button class="ew-color-sure ew-color-drop-btn">确定</button>\n                </div>\n            </div>\n            ${h}\n        </div>`;n.innerHTML=u,this.startMain(n,i)},z.prototype.startMain=function(e,r){let n=this;this.box=T(e,"ew-color-picker-box"),this.arrowRight=T(e,"ew-color-picker-arrow-right"),this.pickerPanel=T(e,"ew-color-panel"),this.pickerCursor=T(e,"ew-color-cursor"),this.pickerInput=T(e,"ew-color-input"),this.pickerClear=T(e,"ew-color-clear"),this.pickerSure=T(e,"ew-color-sure"),this.hueBar=T(e,"ew-color-slider-bar"),this.hueThumb=T(e,"ew-color-slider-thumb"),this.picker=T(e,"ew-color-picker"),this.slider=T(e,"ew-color-slider"),this.hsba=this.config.defaultColor?g(b(this.config.defaultColor)):{h:0,s:100,b:100,a:1};const t=this.panelWidth=parseInt(l(this.pickerPanel,"width")),o=this.panelHeight=parseInt(l(this.pickerPanel,"height"));let a=e,c=a.offsetTop,s=a.offsetLeft;for(;a.offsetParent;)c+=a.offsetParent.offsetTop,s+=a.offsetParent.offsetLeft,a=a.offsetParent;this.panelLeft=s,this.panelTop=c+e.offsetHeight,this.preDefineItem=T(e,"ew-pre-define-color",!0),this.preDefineItem.length&&i(this.preDefineItem).map(e=>{e.addEventListener("click",(function(e){var r,a;i(this.parentElement.children).forEach(e=>{h(e,"ew-pre-define-color-active")}),r=e.target,a="ew-pre-define-color-active",r.classList.add(a);let c=g(l(e.target,"background-color"));n.hsba=c,A(n),E(n),B(n,t,o)}),!1),e.addEventListener("blur",(function(e){h(e.target,"ew-pre-define-color-active")}),!1)}),r.openPickerAni.indexOf("height")>-1?this.picker.style.display="none":this.picker.style.opacity=0,r.alpha?(this.alphaBar=T(e,"ew-alpha-slider-bar"),this.alphaBarBg=T(e,"ew-alpha-slider-bg"),this.alphaBarThumb=T(e,"ew-alpha-slider-thumb"),E(this),this.bindEvent(this.alphaBarThumb,(function(e,r,n,t){P(e,t)}),!1),this.alphaBar.addEventListener("click",(function(e){P(n,e.y)}),!1)):(this.slider.style.width="14px",this.picker.style.minWidth="300px"),this.pickerInput.addEventListener("blur",(function(e){!function(e,r){const n=g(b(r));(n.h||n.s||n.h||n.a)&&(e.hsba=n,B(e,e.panelWidth,e.panelHeight),A(e))}(n,e.target.value)}),!1),this.pickerClear.addEventListener("click",(function(){!function(e,r){!function(e,r){r.config.defaultColor="",r.pickerFlag=!r.pickerFlag,r.render(e,r.config)}(e,r),C(r),r.config.clear(r.config.defaultColor,r)}(e,n)}),!1),this.pickerSure.addEventListener("click",(function(){!function(e){e.pickerFlag=!1,C(e),A(e);const r=e.config.alpha?f(e.hsba):u(f(e.hsba));e.config.sure(r,e)}(n)})),r.disabled||this.box.addEventListener("click",(function(){!function(e,r){r.pickerFlag=!r.pickerFlag,r.config.defaultColor=r.config.alpha?f(r.hsba):u(f(r.hsba)),r.render(e,r.config),C(r),B(r,r.panelWidth,r.panelHeight),"function"==typeof r.config.openPicker&&r.config.openPicker(e,r)}(e,n)}),!1),this.pickerPanel.addEventListener("click",(function(e){!function(e,r){if(r.target!==e.pickerCursor){const n=r.layerX,t=r.layerY,o=e.pickerPanel.offsetWidth,i=e.pickerPanel.offsetHeight;I(e,(n>=o-1?o:n<=0?0:n)+4,(t>=i-2?i:t<=0?0:t)+4,o,i)}}(n,e)}),!1),this.bindEvent(this.pickerCursor,(function(e,r,n,i){I(e,Math.max(0,Math.min(n-e.panelLeft,t))+4,Math.max(0,Math.min(i-e.panelTop,o))+4,t,o)}),!1),this.hueBar.addEventListener("click",(function(e){L(n,e.y)}),!1),this.bindEvent(this.hueThumb,(function(e,r,n,t){L(e,t)}),!1)},z.prototype.bindEvent=function(e,r,n){const t=this,o={capture:!1,once:!1,passive:!1,useCapture:!1,wantsUntrusted:!1};e.addEventListener(d[0],(function(){const i=function(o){var i;o.preventDefault(),i=o,t.moveX=d[0].indexOf("touch")>-1?i.changedTouches[0].clientX:i.clientX,t.moveY=d[0].indexOf("touch")>-1?i.changedTouches[0].clientY:i.clientY,n?r(t,t.moveX,t.moveY):r(t,e,t.moveX,t.moveY)},a=function(){document.removeEventListener(d[1],i,o),document.removeEventListener(d[2],a,o)};document.addEventListener(d[1],i,o),document.addEventListener(d[2],a,o)}),o)},window.ewColorPicker||(window.ewColorPicker=z),z}));
